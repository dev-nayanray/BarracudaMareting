(()=>{var e={};e.id=527,e.ids=[527],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6619:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>u,tree:()=>d}),a(2693),a(2053),a(1506),a(5866);var s=a(3191),l=a(8716),r=a(7922),c=a.n(r),n=a(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let d=["",{children:["admin",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2693)),"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\admin\\contacts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2053)),"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\admin\\contacts\\page.tsx"],o="/admin/contacts/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/contacts/page",pathname:"/admin/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6497:(e,t,a)=>{Promise.resolve().then(a.bind(a,8642))},8642:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var s=a(326),l=a(7577),r=a(5047),c=a(1821),n=a(361),i=a(9669),d=a(1291),x=a(1405),o=a(2881);let m=(0,o.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var u=a(7069);let p=(0,o.Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=a(3634);let f=(0,o.Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var b=a(2830),j=a(4233),g=a(8998);let y=(0,o.Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var v=a(5932);let N=(0,o.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var w=a(9734);let k=(0,o.Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var Z=a(2714);let C=(0,o.Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),A=(0,o.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var S=a(4231),M=a(8690);let _=({status:e})=>{let t={new:{color:"bg-blue-500/20 text-blue-400",icon:g.Z,label:"New"},contacted:{color:"bg-yellow-500/20 text-yellow-400",icon:y,label:"Contacted"},qualified:{color:"bg-accent-green/20 text-accent-green",icon:n.Z,label:"Qualified"},rejected:{color:"bg-accent-red/20 text-accent-red",icon:i.Z,label:"Rejected"}},a=t[e]||t.new,l=a.icon;return(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${a.color}`,children:[s.jsx(l,{className:"w-3.5 h-3.5"}),a.label]})},P=({status:e})=>{let t={pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",label:"Pending"},approved:{color:"bg-accent-green/20 text-accent-green border-accent-green/30",label:"Approved"},rejected:{color:"bg-accent-red/20 text-accent-red border-accent-red/30",label:"Rejected"}},a=t[e]||t.pending;return s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium border ${a.color}`,children:a.label})},F=({type:e})=>{let t={affiliate:{color:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",label:"Affiliate"},publisher:{color:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",label:"Publisher"},advertiser:{color:"bg-primary-500/20 text-primary-400 border-primary-500/30",label:"Advertiser"},influencer:{color:"bg-accent-purple/20 text-accent-purple border-accent-purple/30",label:"Influencer"},media_buyer:{color:"bg-accent-orange/20 text-accent-orange border-accent-orange/30",label:"Media Buyer"},agency:{color:"bg-accent-blue/20 text-accent-blue border-accent-blue/30",label:"Agency"}}[e]||{color:"bg-gray-500/20 text-gray-400 border-gray-500/30",label:e};return s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium border ${t.color}`,children:t.label})},R=({contact:e})=>s.jsx("div",{className:"flex items-center gap-2",children:e.affiliateRegistered?s.jsx("div",{className:"flex items-center gap-1",title:"Hooplaseft: Registered",children:s.jsx(n.Z,{className:"w-4 h-4 text-accent-green"})}):e.affiliateError?s.jsx("div",{className:"flex items-center gap-1",title:`Hooplaseft: ${e.affiliateError}`,children:s.jsx(i.Z,{className:"w-4 h-4 text-accent-red"})}):s.jsx("div",{className:"flex items-center gap-1",title:"Hooplaseft: Pending",children:s.jsx(g.Z,{className:"w-4 h-4 text-text-muted"})})}),D=({contact:e})=>e.ftd?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-accent-green",title:`FTD: $${e.ftd_amount||0}`,children:[s.jsx(c.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"text-xs",children:["$",e.ftd_amount||0]})]}):s.jsx("span",{className:"text-text-muted text-xs",children:"-"});function q({contacts:e=[],loading:t=!1,onView:a,onEdit:r,onDelete:c,renderTypeBadge:n,renderAffiliateStatusBadge:i,renderApiStatus:d,renderFTDBadge:x}){let[o,m]=(0,l.useState)(""),[u,p]=(0,l.useState)(""),[h,f]=(0,l.useState)(""),[b,j]=(0,l.useState)(""),[g,y]=(0,l.useState)(null),q=e.filter(e=>{let t=!o||e.name?.toLowerCase().includes(o.toLowerCase())||e.email?.toLowerCase().includes(o.toLowerCase())||e.company?.toLowerCase().includes(o.toLowerCase()),a=!u||e.type===u,s=!h||e.status===h,l=!b||e.affiliate_status===b;return t&&a&&s&&l});return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(S.Z,{placeholder:"Search contacts...",value:o,onChange:e=>m(e.target.value),leftIcon:s.jsx(v.Z,{className:"w-4 h-4"})})}),s.jsx("div",{className:"w-full md:w-40",children:s.jsx(M.Z,{options:[{value:"",label:"All Types"},{value:"affiliate",label:"Affiliate"},{value:"publisher",label:"Publisher"},{value:"advertiser",label:"Advertiser"},{value:"influencer",label:"Influencer"},{value:"media_buyer",label:"Media Buyer"},{value:"agency",label:"Agency"}],value:u,onChange:e=>p(e.target.value)})}),s.jsx("div",{className:"w-full md:w-40",children:s.jsx(M.Z,{options:[{value:"",label:"All Status"},{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"qualified",label:"Qualified"},{value:"rejected",label:"Rejected"}],value:h,onChange:e=>f(e.target.value)})}),s.jsx("div",{className:"w-full md:w-48",children:s.jsx(M.Z,{options:[{value:"",label:"All Affiliate Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],value:b,onChange:e=>j(e.target.value)})})]}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-surface-100 border-b border-surface-300",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Affiliate Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"FTD"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"APIs"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-surface-300",children:t?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 text-text-muted",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),"Loading contacts..."]})})}):0===q.length?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-text-muted",children:"No contacts found"})}):q.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-surface-100/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center",children:s.jsx(N,{className:"w-5 h-5 text-primary-500"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-text",children:e.name}),s.jsx("p",{className:"text-sm text-text-muted",children:e.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-text",children:[s.jsx(w.Z,{className:"w-4 h-4 text-text-muted"}),e.company]})}),s.jsx("td",{className:"px-6 py-4",children:n?n(e.type):s.jsx(F,{type:e.type})}),s.jsx("td",{className:"px-6 py-4",children:"affiliate"===e.type?i?i(e.affiliate_status):s.jsx(P,{status:e.affiliate_status}):s.jsx("span",{className:"text-text-muted text-xs",children:"-"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(_,{status:e.status||"new"})}),s.jsx("td",{className:"px-6 py-4",children:x?x(e):s.jsx(D,{contact:e})}),s.jsx("td",{className:"px-6 py-4",children:d?d(e):s.jsx(R,{contact:e})}),s.jsx("td",{className:"px-6 py-4 text-text-muted text-sm",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx("button",{onClick:()=>y(g===e.id?null:e.id),className:"p-2 rounded-lg hover:bg-surface-300 text-text-muted hover:text-text transition-colors",children:s.jsx(k,{className:"w-4 h-4"})}),g===e.id&&(0,s.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-40 bg-surface-200 border border-surface-300 rounded-xl shadow-lg z-10 py-1",children:[(0,s.jsxs)("button",{onClick:()=>{a(e),y(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-text hover:bg-surface-300 transition-colors",children:[s.jsx(Z.Z,{className:"w-4 h-4"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>{r(e),y(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-text hover:bg-surface-300 transition-colors",children:[s.jsx(C,{className:"w-4 h-4"}),"Edit"]}),(0,s.jsxs)("button",{onClick:()=>{c(e),y(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-accent-red hover:bg-surface-300 transition-colors",children:[s.jsx(A,{className:"w-4 h-4"}),"Delete"]})]})]})})})]},e.id))})]})})}),!t&&q.length>0&&(0,s.jsxs)("p",{className:"text-sm text-text-muted",children:["Showing ",q.length," contact",1!==q.length?"s":""]})]})}var $=a(3679),T=a(1021),L=a(1954);let E=[{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"qualified",label:"Qualified"},{value:"rejected",label:"Rejected"}];function z(){(0,r.useRouter)();let{isAuthenticated:e,loading:t}=(0,b.Aj)(),[a,o]=(0,l.useState)([]),[g,y]=(0,l.useState)(!0),[v,N]=(0,l.useState)(null),[w,k]=(0,l.useState)(null),[Z,C]=(0,l.useState)(!1),[A,S]=(0,l.useState)(""),[_,P]=(0,l.useState)(""),[F,R]=(0,l.useState)(!1),[D,z]=(0,l.useState)(null),B=async()=>{try{y(!0),N(null);let e=await j.Z.getContacts();e.success?(o(e.data),z(e.stats)):N(e.message||"Failed to fetch contacts")}catch(e){console.error("Failed to fetch contacts:",e),N("Failed to load contacts")}finally{y(!1)}},I=e=>{k(e),S(e.status||"new"),P(e.notes||""),C(!0)},U=async e=>{if(confirm(`Are you sure you want to delete ${e.name}?`))try{let t=await j.Z.deleteContact(e.id);t.success?B():alert(t.message||"Failed to delete contact")}catch(e){console.error("Failed to delete contact:",e),alert("Failed to delete contact")}},H=async()=>{if(w){R(!0);try{let e=await j.Z.updateContact(w.id,{status:A,notes:_});e.success?(C(!1),B()):alert(e.message||"Failed to update contact")}catch(e){console.error("Failed to update contact:",e),alert("Failed to update contact")}finally{R(!1)}}},O=async()=>{if(w&&confirm(`Approve ${w.name} as an affiliate?`)){R(!0);try{let e=localStorage.getItem("admin_token"),t=await fetch(`/api/admin/contacts/${w.id}/approve-affiliate`,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}}),a=await t.json();a.success?(alert("Affiliate approved successfully"),C(!1),B()):alert(a.message||"Failed to approve affiliate")}catch(e){console.error("Failed to approve affiliate:",e),alert("Failed to approve affiliate")}finally{R(!1)}}},V=async()=>{if(!w)return;let e=prompt("Please enter a reason for rejection (optional):");R(!0);try{let t=localStorage.getItem("admin_token"),a=await fetch(`/api/admin/contacts/${w.id}/reject-affiliate`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({reason:e})}),s=await a.json();s.success?(alert("Affiliate rejected"),C(!1),B()):alert(s.message||"Failed to reject affiliate")}catch(e){console.error("Failed to reject affiliate:",e),alert("Failed to reject affiliate")}finally{R(!1)}},G=async()=>{try{let e=await j.Z.exportContacts();if(e){let t=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`contacts-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}}catch(e){console.error("Failed to export contacts:",e),alert("Failed to export contacts")}},Q=e=>s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium border ${{affiliate:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",publisher:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",advertiser:"bg-primary-500/20 text-primary-400 border-primary-500/30",influencer:"bg-accent-purple/20 text-accent-purple border-accent-purple/30",media_buyer:"bg-accent-orange/20 text-accent-orange border-accent-orange/30",agency:"bg-accent-blue/20 text-accent-blue border-accent-blue/30"}[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:{affiliate:"Affiliate",publisher:"Publisher",advertiser:"Advertiser",influencer:"Influencer",media_buyer:"Media Buyer",agency:"Agency"}[e]||e||"Unknown"}),W=e=>s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium border ${{pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",approved:"bg-accent-green/20 text-accent-green border-accent-green/30",rejected:"bg-accent-red/20 text-accent-red border-accent-red/30"}[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:{pending:"Pending",approved:"Approved",rejected:"Rejected"}[e]||e?.charAt(0).toUpperCase()+e?.slice(1)||"Unknown"}),J=e=>s.jsx("div",{className:"flex items-center gap-2",children:e.affiliateRegistered?s.jsx("div",{className:"flex items-center gap-1",title:"Hooplaseft: Registered",children:s.jsx(n.Z,{className:"w-4 h-4 text-accent-green"})}):e.affiliateError?s.jsx("div",{className:"flex items-center gap-1",title:`Hooplaseft: ${e.affiliateError}`,children:s.jsx(i.Z,{className:"w-4 h-4 text-accent-red"})}):s.jsx("div",{className:"flex items-center gap-1",title:"Hooplaseft: Pending",children:s.jsx(d.Z,{className:"w-4 h-4 text-text-muted"})})});return t?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-text",children:"Contacts"}),s.jsx("p",{className:"text-text-muted",children:"Manage contact submissions from publishers and advertisers"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx($.Z,{variant:"outline",onClick:B,leftIcon:s.jsx(x.Z,{className:"w-4 h-4"}),children:"Refresh"}),s.jsx($.Z,{variant:"outline",onClick:G,leftIcon:s.jsx(m,{className:"w-4 h-4"}),children:"Export CSV"})]})]}),D&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(T.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(u.Z,{className:"w-5 h-5 text-primary-500"}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-text",children:D.total}),s.jsx("div",{className:"text-sm text-text-muted",children:"Total Contacts"})]})]})}),s.jsx(T.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(p,{className:"w-5 h-5 text-accent-green"}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-accent-green",children:D.affiliateStats?.approved||0}),s.jsx("div",{className:"text-sm text-text-muted",children:"Approved Affiliates"})]})]})}),s.jsx(T.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.Z,{className:"w-5 h-5 text-secondary-500"}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-secondary-400",children:D.ftdCount||0}),s.jsx("div",{className:"text-sm text-text-muted",children:"FTDs"})]})]})}),s.jsx(T.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5 text-accent-orange"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-accent-orange",children:["$",D.totalFtdAmount||0]}),s.jsx("div",{className:"text-sm text-text-muted",children:"FTD Revenue"})]})]})})]}),v&&(0,s.jsxs)("div",{className:"p-4 bg-accent-red/10 border border-accent-red/30 rounded-xl flex items-center gap-3 text-accent-red",children:[s.jsx(d.Z,{className:"w-5 h-5"}),s.jsx("p",{children:v}),s.jsx("button",{onClick:()=>N(null),className:"ml-auto hover:opacity-70",children:s.jsx(i.Z,{className:"w-5 h-5"})})]}),s.jsx(q,{contacts:a,loading:g,onView:I,onEdit:e=>{I(e)},onDelete:U,renderTypeBadge:Q,renderAffiliateStatusBadge:W,renderApiStatus:J,renderFTDBadge:e=>e.ftd?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-accent-green",title:`FTD: $${e.ftd_amount||0}`,children:[s.jsx(c.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"text-xs",children:["$",e.ftd_amount||0]})]}):s.jsx("span",{className:"text-text-muted text-xs",children:"-"})}),Z&&w&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-surface-200 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-surface-300",children:[s.jsx("h2",{className:"text-xl font-bold text-text",children:"Contact Details"}),s.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-surface-300 rounded-lg text-text-muted hover:text-text transition-colors",children:s.jsx(i.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),s.jsx("p",{className:"text-text font-medium",children:w.name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Email"}),s.jsx("p",{className:"text-text",children:w.email})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Company"}),s.jsx("p",{className:"text-text",children:w.company})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Type"}),Q(w.type)]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Messenger"}),s.jsx("p",{className:"text-text",children:w.messenger||"Not specified"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Username"}),s.jsx("p",{className:"text-text",children:w.username||"Not specified"})]})]}),"affiliate"===w.type&&(0,s.jsxs)("div",{className:"p-4 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[(0,s.jsxs)("h3",{className:"font-semibold text-text mb-3 flex items-center gap-2",children:[s.jsx(p,{className:"w-4 h-4"}),"Affiliate Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Affiliate ID"}),s.jsx("p",{className:"text-text font-mono",children:w.affiliate_id||"2"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Affiliate Status"}),W(w.affiliate_status)]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Traffic Source"}),s.jsx("p",{className:"text-text capitalize",children:(w.tracking_source||"contact_form").replace(/_/g," ")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Campaign ID"}),s.jsx("p",{className:"text-text font-mono",children:w.campaign_id||"-"})]}),w.sub1&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Click ID (sub1)"}),s.jsx("p",{className:"text-text font-mono",children:w.sub1})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"FTD Status"}),w.ftd?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-accent-green",children:[s.jsx(n.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["FTD Completed ($",w.ftd_amount||0,")"]})]}):s.jsx("span",{className:"text-text-muted",children:"Not yet"})]})]})]}),w.message&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Message"}),s.jsx("p",{className:"text-text bg-surface-100 p-4 rounded-xl",children:w.message})]}),(0,s.jsxs)("div",{className:"p-4 bg-surface-100 rounded-xl",children:[(0,s.jsxs)("h3",{className:"font-semibold text-text mb-3 flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-4 h-4"}),"API Status"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Barracuda Postback"}),J(w)]}),"affiliate"===w.type&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Hooplaseft"}),w.affiliateRegistered?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.Z,{className:"w-4 h-4 text-accent-green"}),s.jsx("span",{className:"text-sm text-accent-green",children:"Registered"})]}):w.affiliateError?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(i.Z,{className:"w-4 h-4 text-accent-red"}),s.jsx("span",{className:"text-sm text-accent-red",children:w.affiliateError})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(d.Z,{className:"w-4 h-4 text-text-muted"}),s.jsx("span",{className:"text-sm text-text-muted",children:"Pending"})]})]}),w.ftd&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"FTD Details"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.Z,{className:"w-4 h-4 text-accent-green"}),(0,s.jsxs)("span",{className:"text-sm text-accent-green",children:["$",w.ftd_amount||0]}),w.ftd_date&&(0,s.jsxs)("span",{className:"text-xs text-text-muted",children:["(",new Date(w.ftd_date).toLocaleDateString(),")"]})]})]})]})]}),(0,s.jsxs)("div",{className:"text-sm text-text-muted",children:["Submitted on ",new Date(w.createdAt).toLocaleString()]}),(0,s.jsxs)("div",{className:"border-t border-surface-300 pt-6 space-y-4",children:[s.jsx("h3",{className:"font-semibold text-text",children:"Admin Actions"}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Status"}),s.jsx(M.Z,{options:E,value:A,onChange:e=>S(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Notes"}),s.jsx(L.Z,{placeholder:"Add notes about this contact...",value:_,onChange:e=>P(e.target.value),rows:3})]}),"affiliate"===w.type&&"pending"===w.affiliate_status&&(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-text",children:"Affiliate Actions"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx($.Z,{variant:"outline",size:"sm",onClick:O,leftIcon:s.jsx(p,{className:"w-4 h-4"}),loading:F,className:"border-accent-green/50 text-accent-green hover:bg-accent-green/10",children:"Approve Affiliate"}),s.jsx($.Z,{variant:"outline",size:"sm",onClick:V,leftIcon:s.jsx(f,{className:"w-4 h-4"}),loading:F,className:"border-accent-red/50 text-accent-red hover:bg-accent-red/10",children:"Reject Affiliate"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-surface-300",children:[s.jsx($.Z,{variant:"ghost",onClick:()=>C(!1),children:"Cancel"}),s.jsx($.Z,{variant:"primary",onClick:H,loading:F,children:"Save Changes"})]})]})})]}):null}},1021:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(326),l=a(1135);function r({children:e,className:t,...a}){return s.jsx("div",{className:(0,l.W)("bg-surface-100/80 backdrop-blur-sm rounded-2xl border border-surface-200/50 p-6 transition-all duration-300",t),...a,children:e})}},4231:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(326),l=a(7577),r=a(6084);let c=(0,l.forwardRef)(({label:e,type:t="text",placeholder:a,value:l,onChange:c,onBlur:n,name:i,id:d,error:x,disabled:o=!1,required:m=!1,className:u="",leftIcon:p,rightIcon:h,...f},b)=>{let j=d||i||`input-${Math.random().toString(36).substr(2,9)}`;return(0,s.jsxs)("div",{className:"w-full",children:[e&&(0,s.jsxs)("label",{htmlFor:j,className:"block text-sm font-medium text-text mb-2",children:[e,m&&s.jsx("span",{className:"text-accent-red ml-1",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[p&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-text-muted",children:p}),s.jsx("input",{ref:b,type:t,id:j,name:i,placeholder:a,value:l,onChange:c,onBlur:n,disabled:o,required:m,className:(0,r.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-primary-500/20",x?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",o&&"opacity-50 cursor-not-allowed",p&&"pl-11",h&&"pr-11","transition-all duration-200",u),...f}),h&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none text-text-muted",children:h})]}),x&&s.jsx("p",{className:"mt-1 text-sm text-accent-red",children:x}),f.helpText&&!x&&s.jsx("p",{className:"mt-1 text-sm text-text-muted",children:f.helpText})]})});c.displayName="Input";let n=c},8690:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(326),l=a(7577),r=a(6084);let c=(0,a(2881).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),n=(0,l.forwardRef)(({label:e,placeholder:t="Select an option",options:a=[],value:l,onChange:n,onBlur:i,name:d,id:x,error:o,disabled:m=!1,required:u=!1,className:p="",leftIcon:h,helpText:f,...b},j)=>{let g=x||d||`select-${Math.random().toString(36).substr(2,9)}`;return(0,s.jsxs)("div",{className:"w-full",children:[e&&(0,s.jsxs)("label",{htmlFor:g,className:"block text-sm font-medium text-text mb-2",children:[e,u&&s.jsx("span",{className:"text-accent-red ml-1",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[h&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-text-muted",children:h}),(0,s.jsxs)("select",{ref:j,id:g,name:d,value:l,onChange:n,onBlur:i,disabled:m,required:u,className:(0,r.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text appearance-none","cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary-500/20",o?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",m&&"opacity-50 cursor-not-allowed",h&&"pl-11","transition-all duration-200",p),...b,children:[t&&s.jsx("option",{value:"",disabled:!0,children:t}),a.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:s.jsx(c,{className:"h-5 w-5 text-text-muted"})})]}),o&&s.jsx("p",{className:"mt-1 text-sm text-accent-red",children:o}),f&&s.jsx("p",{className:"mt-1 text-sm text-text-muted",children:f})]})});n.displayName="Select";let i=n},1954:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(326),l=a(7577),r=a(6084);let c=(0,l.forwardRef)(({label:e,placeholder:t,value:a,onChange:l,onBlur:c,name:n,id:i,error:d,disabled:x=!1,required:o=!1,rows:m=4,maxLength:u,className:p="",helpText:h,...f},b)=>{let j=i||n||`textarea-${Math.random().toString(36).substr(2,9)}`;return(0,s.jsxs)("div",{className:"w-full",children:[e&&(0,s.jsxs)("label",{htmlFor:j,className:"block text-sm font-medium text-text mb-2",children:[e,o&&s.jsx("span",{className:"text-accent-red ml-1",children:"*"})]}),s.jsx("textarea",{ref:b,id:j,name:n,placeholder:t,value:a,onChange:l,onBlur:c,disabled:x,required:o,rows:m,maxLength:u,className:(0,r.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text resize-none","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-primary-500/20",d?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",x&&"opacity-50 cursor-not-allowed","transition-all duration-200",p),...f}),u&&(0,s.jsxs)("p",{className:"mt-1 text-sm text-text-muted text-right",children:[a?.length||0,"/",u]}),d&&s.jsx("p",{className:"mt-1 text-sm text-accent-red",children:d})]})});c.displayName="Textarea";let n=c},6084:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(1135);function l(...e){return(0,s.W)(e)}},1291:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8998:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},1821:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2714:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},1405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7069:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},3634:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},2693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`C:\Users\USER\Desktop\BarracudaMareting\app\admin\contacts\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,471,133,297],()=>a(6619));module.exports=s})();
(()=>{var e={};e.id=462,e.ids=[462],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5554:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),s(2004),s(2053),s(1506),s(5866);var a=s(3191),r=s(8716),l=s(7922),n=s.n(l),c=s(5231),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);s.d(t,i);let d=["",{children:["admin",{children:["conversions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2004)),"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\admin\\conversions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2053)),"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\admin\\conversions\\page.tsx"],x="/admin/conversions/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/conversions/page",pathname:"/admin/conversions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3585:(e,t,s)=>{Promise.resolve().then(s.bind(s,7869))},7869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(326),r=s(7577),l=s(5047),n=s(1291),c=s(361);s(9669);var i=s(1405),d=s(3468),o=s(7069),x=s(1821);let m=(0,s(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var p=s(2830),u=s(4233),h=s(3679),f=s(1021),j=s(4231),v=s(8690);function g(){(0,l.useRouter)();let{isAuthenticated:e,loading:t}=(0,p.Aj)(),[s,g]=(0,r.useState)([]),[b,y]=(0,r.useState)(!0),[N,w]=(0,r.useState)(null),[k,Z]=(0,r.useState)(null),[C,S]=(0,r.useState)(""),[_,M]=(0,r.useState)(""),[P,q]=(0,r.useState)(""),A=async()=>{try{y(!0),w(null);let e=await u.Z.getConversions();e.success?(g(e.data||[]),Z(e.stats)):w(e.message||"Failed to fetch conversions")}catch(e){console.error("Failed to fetch conversions:",e),w("Failed to load conversions")}finally{y(!1)}},D=s.filter(e=>{let t=!C||e.click_id?.toLowerCase().includes(C.toLowerCase())||e.affiliate_id?.toLowerCase().includes(C.toLowerCase())||e.goal_type?.toLowerCase().includes(C.toLowerCase()),s=!_||e.goal_type===_,a=!P||e.status===P;return t&&s&&a}),R=e=>{let t={registration:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30",label:"Registration"},deposit:{color:"bg-accent-green/20 text-accent-green border-accent-green/30",label:"Deposit"}}[e]||{color:"bg-gray-500/20 text-gray-400 border-gray-500/30",label:e};return a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium border ${t.color}`,children:t.label})};if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})});if(!e)return null;let T=D.reduce((e,t)=>{let s=t.click_id||"unknown";return e[s]||(e[s]=[]),e[s].push(t),e},{});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-text",children:"Conversions"}),a.jsx("p",{className:"text-text-muted",children:"Track all conversion events and FTDs"})]}),a.jsx(h.Z,{variant:"outline",onClick:A,leftIcon:a.jsx(i.Z,{className:"w-4 h-4"}),children:"Refresh"})]}),k&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(f.Z,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(d.Z,{className:"w-5 h-5 text-primary-500"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-text",children:k.total||0}),a.jsx("div",{className:"text-sm text-text-muted",children:"Total Conversions"})]})]})}),a.jsx(f.Z,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"w-5 h-5 text-accent-green"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-accent-green",children:k.approvedCount||0}),a.jsx("div",{className:"text-sm text-text-muted",children:"Approved"})]})]})}),a.jsx(f.Z,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-5 h-5 text-secondary-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-secondary-400",children:["$",k.totalAmount||0]}),a.jsx("div",{className:"text-sm text-text-muted",children:"Total Revenue"})]})]})}),a.jsx(f.Z,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-5 h-5 text-accent-orange"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:k.thisMonth||0}),a.jsx("div",{className:"text-sm text-text-muted",children:"This Month"})]})]})})]}),k?.byGoalType&&Object.keys(k.byGoalType).length>0&&a.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(k.byGoalType).map(([e,t])=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-surface-100 rounded-lg",children:[R(e),(0,a.jsxs)("span",{className:"text-text font-medium",children:[t," conversions"]})]},e))}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(j.Z,{placeholder:"Search by click ID, affiliate ID, or goal type...",value:C,onChange:e=>S(e.target.value),leftIcon:a.jsx(m,{className:"w-4 h-4"})})}),a.jsx("div",{className:"w-full md:w-40",children:a.jsx(v.Z,{options:[{value:"",label:"All Goals"},{value:"registration",label:"Registration"},{value:"deposit",label:"Deposit"}],value:_,onChange:e=>M(e.target.value)})}),a.jsx("div",{className:"w-full md:w-40",children:a.jsx(v.Z,{options:[{value:"",label:"All Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],value:P,onChange:e=>q(e.target.value)})})]}),N&&(0,a.jsxs)("div",{className:"p-4 bg-accent-red/10 border border-accent-red/30 rounded-xl flex items-center gap-3 text-accent-red",children:[a.jsx(n.Z,{className:"w-5 h-5"}),a.jsx("p",{children:N})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-surface-100 border-b border-surface-300",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Click ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Affiliate"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Conversions"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Total Amount"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"FTD Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Created"})]})}),a.jsx("tbody",{className:"divide-y divide-surface-300",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 text-text-muted",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),"Loading conversions..."]})})}):0===D.length?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-text-muted",children:"No conversions found. Submit the contact form as an affiliate to create conversions."})}):Object.entries(T).map(([e,t])=>{let s=t.some(e=>"deposit"===e.goal_type),r=t.some(e=>"registration"===e.goal_type),l=t.reduce((e,t)=>e+(t.amount||0),0);return t.every(e=>"approved"===e.status),(0,a.jsxs)("tr",{className:"hover:bg-surface-100/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-text font-mono text-sm",children:e}),t[0]?.sub1&&(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["sub1: ",t[0].sub1]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-text font-mono text-sm",children:t[0]?.affiliate_id})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-500/10 text-blue-400 rounded text-xs",children:[a.jsx(d.Z,{className:"w-3 h-3"}),"Registration"]}),s&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-accent-green/10 text-accent-green rounded text-xs",children:[a.jsx(x.Z,{className:"w-3 h-3"}),"Deposit"]})]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-text",children:[a.jsx(x.Z,{className:"w-4 h-4 text-text-muted"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",l]})]})}),a.jsx("td",{className:"px-6 py-4",children:s?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-accent-green/20 text-accent-green rounded text-xs font-medium",children:[a.jsx(c.Z,{className:"w-3 h-3"}),"FTD Complete"]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded text-xs font-medium",children:[a.jsx(n.Z,{className:"w-3 h-3"}),"Pending"]})}),a.jsx("td",{className:"px-6 py-4 text-text-muted text-sm",children:t[0]?.createdAt?new Date(t[0].createdAt).toLocaleString():"-"})]},e)})})]})})}),!b&&D.length>0&&a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["Showing ",Object.keys(T).length," unique click(s) with ",D.length," conversion(s)"]})})]})}},1021:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(326),r=s(1135);function l({children:e,className:t,...s}){return a.jsx("div",{className:(0,r.W)("bg-surface-100/80 backdrop-blur-sm rounded-2xl border border-surface-200/50 p-6 transition-all duration-300",t),...s,children:e})}},4231:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(326),r=s(7577),l=s(6084);let n=(0,r.forwardRef)(({label:e,type:t="text",placeholder:s,value:r,onChange:n,onBlur:c,name:i,id:d,error:o,disabled:x=!1,required:m=!1,className:p="",leftIcon:u,rightIcon:h,...f},j)=>{let v=d||i||`input-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsxs)("label",{htmlFor:v,className:"block text-sm font-medium text-text mb-2",children:[e,m&&a.jsx("span",{className:"text-accent-red ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[u&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-text-muted",children:u}),a.jsx("input",{ref:j,type:t,id:v,name:i,placeholder:s,value:r,onChange:n,onBlur:c,disabled:x,required:m,className:(0,l.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-primary-500/20",o?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",x&&"opacity-50 cursor-not-allowed",u&&"pl-11",h&&"pr-11","transition-all duration-200",p),...f}),h&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none text-text-muted",children:h})]}),o&&a.jsx("p",{className:"mt-1 text-sm text-accent-red",children:o}),f.helpText&&!o&&a.jsx("p",{className:"mt-1 text-sm text-text-muted",children:f.helpText})]})});n.displayName="Input";let c=n},8690:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(326),r=s(7577),l=s(6084);let n=(0,s(2881).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),c=(0,r.forwardRef)(({label:e,placeholder:t="Select an option",options:s=[],value:r,onChange:c,onBlur:i,name:d,id:o,error:x,disabled:m=!1,required:p=!1,className:u="",leftIcon:h,helpText:f,...j},v)=>{let g=o||d||`select-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsxs)("label",{htmlFor:g,className:"block text-sm font-medium text-text mb-2",children:[e,p&&a.jsx("span",{className:"text-accent-red ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[h&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-text-muted",children:h}),(0,a.jsxs)("select",{ref:v,id:g,name:d,value:r,onChange:c,onBlur:i,disabled:m,required:p,className:(0,l.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text appearance-none","cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary-500/20",x?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",m&&"opacity-50 cursor-not-allowed",h&&"pl-11","transition-all duration-200",u),...j,children:[t&&a.jsx("option",{value:"",disabled:!0,children:t}),s.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:a.jsx(n,{className:"h-5 w-5 text-text-muted"})})]}),x&&a.jsx("p",{className:"mt-1 text-sm text-accent-red",children:x}),f&&a.jsx("p",{className:"mt-1 text-sm text-text-muted",children:f})]})});c.displayName="Select";let i=c},6084:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(1135);function r(...e){return(0,a.W)(e)}},1291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1821:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2004:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\USER\Desktop\BarracudaMareting\app\admin\conversions\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,471,133,297],()=>s(5554));module.exports=a})();
"use strict";(()=>{var e={};e.id=569,e.ids=[569],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7627:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>f,patchFetch:()=>m,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var r={};a.r(r),a.d(r,{POST:()=>p});var s=a(9303),o=a(8716),i=a(670),n=a(7070);async function p(e){try{let{name:t,email:a,company:r,type:s,messenger:o,username:i,message:p,affiliate_id:c,url_id:u,sub1:l,trackingSource:d,campaignId:f}=await e.json();if(!t||!a||!r||!s)return n.NextResponse.json({success:!1,message:"Name, email, company, and type are required"},{status:400});if("affiliate"===s){let e=new URLSearchParams({affiliate_id:c||"2",url_id:u||"2",source:d||"contact_form"});l&&e.append("sub1",l),f&&e.append("campaign_id",f),e.append("name",encodeURIComponent(t)),e.append("email",encodeURIComponent(a)),e.append("company",encodeURIComponent(r));let s=`https://hooplaseft.com/api/v3/offer/2?${e.toString()}`;return(async()=>{try{let t=new AbortController,a=setTimeout(()=>t.abort(),5e3);await fetch(`https://hooplaseft.com/api/v3/offer/2?${e.toString()}`,{method:"GET",headers:{"User-Agent":"Next.js Contact Form API"},signal:t.signal}),clearTimeout(a),console.log("Hooplaseft API notification sent successfully")}catch(e){console.log("Hooplaseft API notification failed (non-critical):",e.message)}})().catch(()=>{}),n.NextResponse.json({success:!0,message:"Affiliate application submitted successfully",data:{affiliatePosted:!0,isAffiliate:!0,trackingLink:s,affiliateId:c||"2",dashboardUrl:"https://barracuda-pp.irev.com/affiliates/en/app/dashboard",note:"Your application is under review. You will receive iREV dashboard access within 24 hours via email."}})}return n.NextResponse.json({success:!0,message:"Contact form submitted successfully. Our team will contact you within 24 hours.",data:{posted:!0}})}catch(e){return console.error("Register API error:",e),n.NextResponse.json({success:!1,message:e.message||"Internal server error",data:{affiliateError:!0}},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/register/route",pathname:"/api/register",filename:"route",bundlePath:"app/api/register/route"},resolvedPagePath:"C:\\Users\\USER\\Desktop\\BarracudaMareting\\app\\api\\register\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:u,staticGenerationAsyncStorage:l,serverHooks:d}=c,f="/api/register/route";function m(){return(0,i.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(7627));module.exports=r})();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{5892:function(e,t,r){Promise.resolve().then(r.bind(r,8292))},8292:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),s=r(2265),n=r(9376),c=r(8420),i=r(9322),o=r(9345),l=r(9205);let u=(0,l.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),d=(0,l.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var m=r(2208),h=r(4772),x=r(4226);function f(){let e=(0,n.useRouter)(),{login:t,isAuthenticated:r,loading:l,error:f,clearError:p}=(0,h.Aj)(),[y,g]=(0,s.useState)(""),[b,v]=(0,s.useState)(""),[k,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)("");(0,s.useEffect)(()=>{r&&e.push("/admin/dashboard")},[r,e]),(0,s.useEffect)(()=>{p(),N("")},[y,b,p]);let Z=async r=>{if(r.preventDefault(),N(""),!y||!b){N("Please enter both email and password");return}let a=await t(y,b);a.success?e.push("/admin/dashboard"):N(a.message||"Login failed")};return l?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,a.jsx)("div",{className:"flex-1 flex flex-col justify-center px-8 lg:px-20",children:(0,a.jsxs)("div",{className:"max-w-md w-full mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-500 rounded-xl flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-7 h-7 text-black"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-display font-bold text-2xl text-text",children:"Barracuda"}),(0,a.jsx)("p",{className:"text-sm text-text-muted",children:"Admin Panel"})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-text mb-2",children:"Welcome back"}),(0,a.jsx)("p",{className:"text-text-muted",children:"Enter your credentials to access the admin panel"})]}),(f||j)&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-accent-red/10 border border-accent-red/30 rounded-xl flex items-center gap-3 text-accent-red",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 flex-shrink-0"}),(0,a.jsx)("p",{children:f||j})]}),(0,a.jsxs)("form",{onSubmit:Z,className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text mb-2",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),(0,a.jsx)("input",{type:"email",value:y,onChange:e=>g(e.target.value),placeholder:"admin@barracuda.com",className:"w-full bg-surface-200 border border-surface-300 rounded-xl py-3 pl-12 pr-4 text-text placeholder-text-muted focus:outline-none focus:border-primary-500 transition-colors"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),(0,a.jsx)("input",{type:k?"text":"password",value:b,onChange:e=>v(e.target.value),placeholder:"Enter your password",className:"w-full bg-surface-200 border border-surface-300 rounded-xl py-3 pl-12 pr-12 text-text placeholder-text-muted focus:outline-none focus:border-primary-500 transition-colors"}),(0,a.jsx)("button",{type:"button",onClick:()=>w(!k),className:"absolute right-4 top-1/2 -translate-y-1/2 text-text-muted hover:text-text transition-colors",children:k?(0,a.jsx)(d,{className:"w-5 h-5"}):(0,a.jsx)(m.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded bg-surface-200 border-surface-300 text-primary-500 focus:ring-primary-500"}),(0,a.jsx)("span",{className:"text-sm text-text-muted",children:"Remember me"})]}),(0,a.jsx)("a",{href:"#",className:"text-sm text-primary-500 hover:text-primary-400 transition-colors",children:"Forgot password?"})]}),(0,a.jsx)(x.Z,{type:"submit",variant:"primary",size:"lg",className:"w-full",children:"Sign In"})]}),(0,a.jsx)("p",{className:"mt-8 text-center text-sm text-text-muted"})]})}),(0,a.jsx)("div",{className:"hidden lg:flex flex-1 bg-surface-200 items-center justify-center p-12",children:(0,a.jsxs)("div",{className:"max-w-lg text-center",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-primary-500/20 rounded-full mx-auto mb-8 flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-16 h-16 text-primary-500"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-text mb-4",children:"Barracuda Admin Panel"}),(0,a.jsx)("p",{className:"text-text-muted",children:"Manage your Barracuda network, track contacts, and monitor performance all in one place."})]})})]})}},4226:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),s=r(1994);let n={primary:"bg-primary-500 text-background hover:bg-primary-400 hover:shadow-gold",secondary:"bg-surface-200 text-text hover:bg-surface-300",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-background",ghost:"text-text hover:bg-surface-200"},c={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};function i(e){let{children:t,variant:r="primary",size:i="md",leftIcon:o,rightIcon:l,className:u,onClick:d,type:m="button",loading:h=!1,disabled:x,...f}=e;return(0,a.jsxs)("button",{type:m,onClick:d,disabled:x||h,className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.W)(t)}("inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-300 ease-out","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-background","hover:-translate-y-0.5 hover:shadow-lg","active:translate-y-0 active:shadow-none",n[r],c[i],u,(x||h)&&"opacity-50 cursor-not-allowed"),...f,children:[h?(0,a.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):o?(0,a.jsx)("span",{className:"mr-2",children:o}):null,t,l&&(0,a.jsx)("span",{className:"ml-2",children:l})]})}},4772:function(e,t,r){"use strict";r.d(t,{Aj:function(){return o},IA:function(){return i}});var a=r(7437),s=r(2265),n=r(6040);let c=(0,s.createContext)(null);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[u,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{if(!n.Z.getToken()){l(!1);return}try{let e=await n.Z.getProfile();e.success?i(e.data):n.Z.logout()}catch(e){console.error("Auth check failed:",e),n.Z.logout()}finally{l(!1)}})()},[]);let m=(0,s.useCallback)(async(e,t)=>{d(null),l(!0);try{let r=await n.Z.login(e,t);if(!r.success)return d(r.message),{success:!1,message:r.message};{let e=r.data.user||r.data;return i(e),{success:!0}}}catch(t){let e=t.message||"Login failed";return d(e),{success:!1,message:e}}finally{l(!1)}},[]),h=(0,s.useCallback)(async(e,t,r)=>{d(null),l(!0);try{let a=await n.Z.register(e,t,r);if(a.success)return i(a.data.user),{success:!0};return d(a.message),{success:!1,message:a.message}}catch(t){let e=t.message||"Registration failed";return d(e),{success:!1,message:e}}finally{l(!1)}},[]),x=(0,s.useCallback)(()=>{n.Z.logout(),i(null),d(null)},[]),f=(0,s.useCallback)(()=>{d(null)},[]);return(0,a.jsx)(c.Provider,{value:{user:r,loading:o,error:u,isAuthenticated:!!r,login:m,register:h,logout:x,clearError:f},children:t})}function o(){let e=(0,s.useContext)(c);if(!e)throw Error("useAdmin must be used within an AdminProvider");return e}},6040:function(e,t,r){"use strict";class a{getToken(){return this.token||(this.token=localStorage.getItem("admin_token")),this.token}setToken(e){this.token=e,localStorage.setItem("admin_token",e)}clearToken(){this.token=null,localStorage.removeItem("admin_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=window.location.origin,a="".concat(r).concat(e),s=this.getToken(),n={headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...t.headers||{}},...t};try{let e=await fetch(a,n),t=await e.json();if(!e.ok)throw Error(t.message||"API request failed");return t}catch(e){throw console.error("API request error:",e),e}}async login(e,t){let r=await this.request("/api/admin/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return r.success&&r.data.token&&this.setToken(r.data.token),r}async register(e,t,r){return this.login(e,t)}async getProfile(){if(!this.getToken())throw Error("Not authenticated");try{let e=await this.request("/api/admin/auth/profile");if(e.success)return e;throw Error(e.message||"Invalid token")}catch(e){throw console.error("Profile validation failed:",e.message),this.clearToken(),Error("Not authenticated")}}logout(){this.clearToken()}async getContacts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return this.request("/api/admin/contacts".concat(t?"?".concat(t):""))}async getContactStats(){return this.request("/api/admin/contacts/stats")}async getContact(e){return this.request("/api/admin/contacts/".concat(e))}async updateContact(e,t){return this.request("/api/admin/contacts/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteContact(e){return this.request("/api/admin/contacts/".concat(e),{method:"DELETE"})}async exportContacts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.request("/api/admin/contacts",{method:"POST",body:JSON.stringify(e)})}async getConversions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return this.request("/api/admin/conversions".concat(t?"?".concat(t):""))}async getConversionStats(){return this.request("/api/admin/conversions/stats")}constructor(){this.token=null}}let s=new a;t.Z=s},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),c=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:u="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:c?24*Number(n)/Number(s):n,className:i("lucide",u),...!d&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...l}=r;return(0,a.createElement)(u,{ref:n,iconNode:t,className:i("lucide-".concat(s(c(e))),"lucide-".concat(e),o),...l})});return r.displayName=c(e),r}},8420:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},9322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9345:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},1994:function(e,t,r){"use strict";function a(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a);else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:function(){return a}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5892)}),_N_E=e.O()}]);
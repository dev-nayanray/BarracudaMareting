(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{568:function(e,t,a){Promise.resolve().then(a.bind(a,120))},120:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var s=a(7437),l=a(2265),c=a(9376),r=a(5252),n=a(1671),i=a(9388),d=a(9322),x=a(7168),o=a(9205);let m=(0,o.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var u=a(525);let h=(0,o.Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var p=a(1239);let f=(0,o.Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var j=a(4772),b=a(6040),g=a(1723);let v=(0,o.Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var y=a(9345);let N=(0,o.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var w=a(8420);let k=(0,o.Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var Z=a(2208);let C=(0,o.Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),A=(0,o.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var S=a(8068),M=a(9093);let _=e=>{let{status:t}=e,a={new:{color:"bg-blue-500/20 text-blue-400",icon:g.Z,label:"New"},contacted:{color:"bg-yellow-500/20 text-yellow-400",icon:v,label:"Contacted"},qualified:{color:"bg-accent-green/20 text-accent-green",icon:n.Z,label:"Qualified"},rejected:{color:"bg-accent-red/20 text-accent-red",icon:i.Z,label:"Rejected"}},l=a[t]||a.new,c=l.icon;return(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ".concat(l.color),children:[(0,s.jsx)(c,{className:"w-3.5 h-3.5"}),l.label]})},F=e=>{let{status:t}=e,a={pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",label:"Pending"},approved:{color:"bg-accent-green/20 text-accent-green border-accent-green/30",label:"Approved"},rejected:{color:"bg-accent-red/20 text-accent-red border-accent-red/30",label:"Rejected"}},l=a[t]||a.pending;return(0,s.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border ".concat(l.color),children:l.label})},D=e=>{let{type:t}=e,a={affiliate:{color:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",label:"Affiliate"},publisher:{color:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",label:"Publisher"},advertiser:{color:"bg-primary-500/20 text-primary-400 border-primary-500/30",label:"Advertiser"},influencer:{color:"bg-accent-purple/20 text-accent-purple border-accent-purple/30",label:"Influencer"},media_buyer:{color:"bg-accent-orange/20 text-accent-orange border-accent-orange/30",label:"Media Buyer"},agency:{color:"bg-accent-blue/20 text-accent-blue border-accent-blue/30",label:"Agency"}}[t]||{color:"bg-gray-500/20 text-gray-400 border-gray-500/30",label:t};return(0,s.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border ".concat(a.color),children:a.label})},R=e=>{let{contact:t}=e;return(0,s.jsx)("div",{className:"flex items-center gap-2",children:t.affiliateRegistered?(0,s.jsx)("div",{className:"flex items-center gap-1",title:"Hooplaseft: Registered",children:(0,s.jsx)(n.Z,{className:"w-4 h-4 text-accent-green"})}):t.affiliateError?(0,s.jsx)("div",{className:"flex items-center gap-1",title:"Hooplaseft: ".concat(t.affiliateError),children:(0,s.jsx)(i.Z,{className:"w-4 h-4 text-accent-red"})}):(0,s.jsx)("div",{className:"flex items-center gap-1",title:"Hooplaseft: Pending",children:(0,s.jsx)(g.Z,{className:"w-4 h-4 text-text-muted"})})})},T=e=>{let{contact:t}=e;return t.ftd?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-accent-green",title:"FTD: $".concat(t.ftd_amount||0),children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"text-xs",children:["$",t.ftd_amount||0]})]}):(0,s.jsx)("span",{className:"text-text-muted text-xs",children:"-"})};function z(e){let{contacts:t=[],loading:a=!1,onView:c,onEdit:r,onDelete:n,renderTypeBadge:i,renderAffiliateStatusBadge:d,renderApiStatus:x,renderFTDBadge:o}=e,[m,u]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[f,j]=(0,l.useState)(""),[b,g]=(0,l.useState)(""),[v,z]=(0,l.useState)(null),L=t.filter(e=>{var t,a,s;let l=!m||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null===(s=e.company)||void 0===s?void 0:s.toLowerCase().includes(m.toLowerCase())),c=!h||e.type===h,r=!f||e.status===f,n=!b||e.affiliate_status===b;return l&&c&&r&&n});return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(S.Z,{placeholder:"Search contacts...",value:m,onChange:e=>u(e.target.value),leftIcon:(0,s.jsx)(y.Z,{className:"w-4 h-4"})})}),(0,s.jsx)("div",{className:"w-full md:w-40",children:(0,s.jsx)(M.Z,{options:[{value:"",label:"All Types"},{value:"affiliate",label:"Affiliate"},{value:"publisher",label:"Publisher"},{value:"advertiser",label:"Advertiser"},{value:"influencer",label:"Influencer"},{value:"media_buyer",label:"Media Buyer"},{value:"agency",label:"Agency"}],value:h,onChange:e=>p(e.target.value)})}),(0,s.jsx)("div",{className:"w-full md:w-40",children:(0,s.jsx)(M.Z,{options:[{value:"",label:"All Status"},{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"qualified",label:"Qualified"},{value:"rejected",label:"Rejected"}],value:f,onChange:e=>j(e.target.value)})}),(0,s.jsx)("div",{className:"w-full md:w-48",children:(0,s.jsx)(M.Z,{options:[{value:"",label:"All Affiliate Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],value:b,onChange:e=>g(e.target.value)})})]}),(0,s.jsx)("div",{className:"card overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-surface-100 border-b border-surface-300",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Contact"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Company"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Affiliate Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"FTD"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"APIs"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-surface-300",children:a?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 text-text-muted",children:[(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),"Loading contacts..."]})})}):0===L.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center text-text-muted",children:"No contacts found"})}):L.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-surface-100/50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center",children:(0,s.jsx)(N,{className:"w-5 h-5 text-primary-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-text",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-text-muted",children:e.email})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-text",children:[(0,s.jsx)(w.Z,{className:"w-4 h-4 text-text-muted"}),e.company]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:i?i(e.type):(0,s.jsx)(D,{type:e.type})}),(0,s.jsx)("td",{className:"px-6 py-4",children:"affiliate"===e.type?d?d(e.affiliate_status):(0,s.jsx)(F,{status:e.affiliate_status}):(0,s.jsx)("span",{className:"text-text-muted text-xs",children:"-"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)(_,{status:e.status||"new"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:o?o(e):(0,s.jsx)(T,{contact:e})}),(0,s.jsx)("td",{className:"px-6 py-4",children:x?x(e):(0,s.jsx)(R,{contact:e})}),(0,s.jsx)("td",{className:"px-6 py-4 text-text-muted text-sm",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>z(v===e.id?null:e.id),className:"p-2 rounded-lg hover:bg-surface-300 text-text-muted hover:text-text transition-colors",children:(0,s.jsx)(k,{className:"w-4 h-4"})}),v===e.id&&(0,s.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-40 bg-surface-200 border border-surface-300 rounded-xl shadow-lg z-10 py-1",children:[(0,s.jsxs)("button",{onClick:()=>{c(e),z(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-text hover:bg-surface-300 transition-colors",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>{r(e),z(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-text hover:bg-surface-300 transition-colors",children:[(0,s.jsx)(C,{className:"w-4 h-4"}),"Edit"]}),(0,s.jsxs)("button",{onClick:()=>{n(e),z(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-accent-red hover:bg-surface-300 transition-colors",children:[(0,s.jsx)(A,{className:"w-4 h-4"}),"Delete"]})]})]})})})]},e.id))})]})})}),!a&&L.length>0&&(0,s.jsxs)("p",{className:"text-sm text-text-muted",children:["Showing ",L.length," contact",1!==L.length?"s":""]})]})}var L=a(4226),I=a(9178),q=a(4351);let E=[{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"qualified",label:"Qualified"},{value:"rejected",label:"Rejected"}];function H(){var e;let t=(0,c.useRouter)(),{isAuthenticated:a,loading:o}=(0,j.Aj)(),[g,v]=(0,l.useState)([]),[y,N]=(0,l.useState)(!0),[w,k]=(0,l.useState)(null),[Z,C]=(0,l.useState)(null),[A,S]=(0,l.useState)(!1),[_,F]=(0,l.useState)(""),[D,R]=(0,l.useState)(""),[T,H]=(0,l.useState)(!1),[P,B]=(0,l.useState)(null);(0,l.useEffect)(()=>{o||a||t.push("/admin/login")},[a,o,t]);let V=async()=>{try{N(!0),k(null);let e=await b.Z.getContacts();e.success?(v(e.data),B(e.stats)):k(e.message||"Failed to fetch contacts")}catch(e){console.error("Failed to fetch contacts:",e),k("Failed to load contacts")}finally{N(!1)}};(0,l.useEffect)(()=>{a&&V()},[a]);let O=e=>{C(e),F(e.status||"new"),R(e.notes||""),S(!0)},U=async e=>{if(confirm("Are you sure you want to delete ".concat(e.name,"?")))try{let t=await b.Z.deleteContact(e.id);t.success?V():alert(t.message||"Failed to delete contact")}catch(e){console.error("Failed to delete contact:",e),alert("Failed to delete contact")}},$=async()=>{if(Z){H(!0);try{let e=await b.Z.updateContact(Z.id,{status:_,notes:D});e.success?(S(!1),V()):alert(e.message||"Failed to update contact")}catch(e){console.error("Failed to update contact:",e),alert("Failed to update contact")}finally{H(!1)}}},Q=async()=>{if(Z&&confirm("Approve ".concat(Z.name," as an affiliate?"))){H(!0);try{let e=localStorage.getItem("admin_token"),t=await fetch("/api/admin/contacts/".concat(Z.id,"/approve-affiliate"),{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}}}),a=await t.json();a.success?(alert("Affiliate approved successfully"),S(!1),V()):alert(a.message||"Failed to approve affiliate")}catch(e){console.error("Failed to approve affiliate:",e),alert("Failed to approve affiliate")}finally{H(!1)}}},J=async()=>{if(!Z)return;let e=prompt("Please enter a reason for rejection (optional):");H(!0);try{let t=localStorage.getItem("admin_token"),a=await fetch("/api/admin/contacts/".concat(Z.id,"/reject-affiliate"),{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},body:JSON.stringify({reason:e})}),s=await a.json();s.success?(alert("Affiliate rejected"),S(!1),V()):alert(s.message||"Failed to reject affiliate")}catch(e){console.error("Failed to reject affiliate:",e),alert("Failed to reject affiliate")}finally{H(!1)}},G=async()=>{try{let e=await b.Z.exportContacts();if(e){let t=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="contacts-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}}catch(e){console.error("Failed to export contacts:",e),alert("Failed to export contacts")}},K=e=>(0,s.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border ".concat({affiliate:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",publisher:"bg-secondary-500/20 text-secondary-400 border-secondary-500/30",advertiser:"bg-primary-500/20 text-primary-400 border-primary-500/30",influencer:"bg-accent-purple/20 text-accent-purple border-accent-purple/30",media_buyer:"bg-accent-orange/20 text-accent-orange border-accent-orange/30",agency:"bg-accent-blue/20 text-accent-blue border-accent-blue/30"}[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:{affiliate:"Affiliate",publisher:"Publisher",advertiser:"Advertiser",influencer:"Influencer",media_buyer:"Media Buyer",agency:"Agency"}[e]||e||"Unknown"}),W=e=>(0,s.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border ".concat({pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",approved:"bg-accent-green/20 text-accent-green border-accent-green/30",rejected:"bg-accent-red/20 text-accent-red border-accent-red/30"}[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:{pending:"Pending",approved:"Approved",rejected:"Rejected"}[e]||(null==e?void 0:e.charAt(0).toUpperCase())+(null==e?void 0:e.slice(1))||"Unknown"}),X=e=>(0,s.jsx)("div",{className:"flex items-center gap-2",children:e.affiliateRegistered?(0,s.jsx)("div",{className:"flex items-center gap-1",title:"Hooplaseft: Registered",children:(0,s.jsx)(n.Z,{className:"w-4 h-4 text-accent-green"})}):e.affiliateError?(0,s.jsx)("div",{className:"flex items-center gap-1",title:"Hooplaseft: ".concat(e.affiliateError),children:(0,s.jsx)(i.Z,{className:"w-4 h-4 text-accent-red"})}):(0,s.jsx)("div",{className:"flex items-center gap-1",title:"Hooplaseft: Pending",children:(0,s.jsx)(d.Z,{className:"w-4 h-4 text-text-muted"})})});return o?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-text",children:"Contacts"}),(0,s.jsx)("p",{className:"text-text-muted",children:"Manage contact submissions from publishers and advertisers"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(L.Z,{variant:"outline",onClick:V,leftIcon:(0,s.jsx)(x.Z,{className:"w-4 h-4"}),children:"Refresh"}),(0,s.jsx)(L.Z,{variant:"outline",onClick:G,leftIcon:(0,s.jsx)(m,{className:"w-4 h-4"}),children:"Export CSV"})]})]}),P&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsx)(I.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 text-primary-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-text",children:P.total}),(0,s.jsx)("div",{className:"text-sm text-text-muted",children:"Total Contacts"})]})]})}),(0,s.jsx)(I.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h,{className:"w-5 h-5 text-accent-green"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-accent-green",children:(null===(e=P.affiliateStats)||void 0===e?void 0:e.approved)||0}),(0,s.jsx)("div",{className:"text-sm text-text-muted",children:"Approved Affiliates"})]})]})}),(0,s.jsx)(I.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Z,{className:"w-5 h-5 text-secondary-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-secondary-400",children:P.ftdCount||0}),(0,s.jsx)("div",{className:"text-sm text-text-muted",children:"FTDs"})]})]})}),(0,s.jsx)(I.Z,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5 text-accent-orange"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-accent-orange",children:["$",P.totalFtdAmount||0]}),(0,s.jsx)("div",{className:"text-sm text-text-muted",children:"FTD Revenue"})]})]})})]}),w&&(0,s.jsxs)("div",{className:"p-4 bg-accent-red/10 border border-accent-red/30 rounded-xl flex items-center gap-3 text-accent-red",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5"}),(0,s.jsx)("p",{children:w}),(0,s.jsx)("button",{onClick:()=>k(null),className:"ml-auto hover:opacity-70",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)(z,{contacts:g,loading:y,onView:O,onEdit:e=>{O(e)},onDelete:U,renderTypeBadge:K,renderAffiliateStatusBadge:W,renderApiStatus:X,renderFTDBadge:e=>e.ftd?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-accent-green",title:"FTD: $".concat(e.ftd_amount||0),children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"text-xs",children:["$",e.ftd_amount||0]})]}):(0,s.jsx)("span",{className:"text-text-muted text-xs",children:"-"})}),A&&Z&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-surface-200 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-surface-300",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-text",children:"Contact Details"}),(0,s.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-surface-300 rounded-lg text-text-muted hover:text-text transition-colors",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),(0,s.jsx)("p",{className:"text-text font-medium",children:Z.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Email"}),(0,s.jsx)("p",{className:"text-text",children:Z.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Company"}),(0,s.jsx)("p",{className:"text-text",children:Z.company})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Type"}),K(Z.type)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Messenger"}),(0,s.jsx)("p",{className:"text-text",children:Z.messenger||"Not specified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Username"}),(0,s.jsx)("p",{className:"text-text",children:Z.username||"Not specified"})]})]}),"affiliate"===Z.type&&(0,s.jsxs)("div",{className:"p-4 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[(0,s.jsxs)("h3",{className:"font-semibold text-text mb-3 flex items-center gap-2",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),"Affiliate Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Affiliate ID"}),(0,s.jsx)("p",{className:"text-text font-mono",children:Z.affiliate_id||"2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Affiliate Status"}),W(Z.affiliate_status)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Traffic Source"}),(0,s.jsx)("p",{className:"text-text capitalize",children:(Z.tracking_source||"contact_form").replace(/_/g," ")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Campaign ID"}),(0,s.jsx)("p",{className:"text-text font-mono",children:Z.campaign_id||"-"})]}),Z.sub1&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Click ID (sub1)"}),(0,s.jsx)("p",{className:"text-text font-mono",children:Z.sub1})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"FTD Status"}),Z.ftd?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-accent-green",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["FTD Completed ($",Z.ftd_amount||0,")"]})]}):(0,s.jsx)("span",{className:"text-text-muted",children:"Not yet"})]})]})]}),Z.message&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Message"}),(0,s.jsx)("p",{className:"text-text bg-surface-100 p-4 rounded-xl",children:Z.message})]}),(0,s.jsxs)("div",{className:"p-4 bg-surface-100 rounded-xl",children:[(0,s.jsxs)("h3",{className:"font-semibold text-text mb-3 flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4"}),"API Status"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Barracuda Postback"}),X(Z)]}),"affiliate"===Z.type&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Hooplaseft"}),Z.affiliateRegistered?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 text-accent-green"}),(0,s.jsx)("span",{className:"text-sm text-accent-green",children:"Registered"})]}):Z.affiliateError?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 text-accent-red"}),(0,s.jsx)("span",{className:"text-sm text-accent-red",children:Z.affiliateError})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 text-text-muted"}),(0,s.jsx)("span",{className:"text-sm text-text-muted",children:"Pending"})]})]}),Z.ftd&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"FTD Details"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4 text-accent-green"}),(0,s.jsxs)("span",{className:"text-sm text-accent-green",children:["$",Z.ftd_amount||0]}),Z.ftd_date&&(0,s.jsxs)("span",{className:"text-xs text-text-muted",children:["(",new Date(Z.ftd_date).toLocaleDateString(),")"]})]})]})]})]}),(0,s.jsxs)("div",{className:"text-sm text-text-muted",children:["Submitted on ",new Date(Z.createdAt).toLocaleString()]}),(0,s.jsxs)("div",{className:"border-t border-surface-300 pt-6 space-y-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-text",children:"Admin Actions"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Status"}),(0,s.jsx)(M.Z,{options:E,value:_,onChange:e=>F(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Notes"}),(0,s.jsx)(q.Z,{placeholder:"Add notes about this contact...",value:D,onChange:e=>R(e.target.value),rows:3})]}),"affiliate"===Z.type&&"pending"===Z.affiliate_status&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"font-medium text-text",children:"Affiliate Actions"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(L.Z,{variant:"outline",size:"sm",onClick:Q,leftIcon:(0,s.jsx)(h,{className:"w-4 h-4"}),loading:T,className:"border-accent-green/50 text-accent-green hover:bg-accent-green/10",children:"Approve Affiliate"}),(0,s.jsx)(L.Z,{variant:"outline",size:"sm",onClick:J,leftIcon:(0,s.jsx)(f,{className:"w-4 h-4"}),loading:T,className:"border-accent-red/50 text-accent-red hover:bg-accent-red/10",children:"Reject Affiliate"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-surface-300",children:[(0,s.jsx)(L.Z,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),(0,s.jsx)(L.Z,{variant:"primary",onClick:$,loading:T,children:"Save Changes"})]})]})})]}):null}},9093:function(e,t,a){"use strict";var s=a(7437),l=a(2265),c=a(7062),r=a(875);let n=(0,l.forwardRef)((e,t)=>{let{label:a,placeholder:l="Select an option",options:n=[],value:i,onChange:d,onBlur:x,name:o,id:m,error:u,disabled:h=!1,required:p=!1,className:f="",leftIcon:j,helpText:b,...g}=e,v=m||o||"select-".concat(Math.random().toString(36).substr(2,9));return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsxs)("label",{htmlFor:v,className:"block text-sm font-medium text-text mb-2",children:[a,p&&(0,s.jsx)("span",{className:"text-accent-red ml-1",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[j&&(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-text-muted",children:j}),(0,s.jsxs)("select",{ref:t,id:v,name:o,value:i,onChange:d,onBlur:x,disabled:h,required:p,className:(0,c.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text appearance-none","cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary-500/20",u?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",h&&"opacity-50 cursor-not-allowed",j&&"pl-11","transition-all duration-200",f),...g,children:[l&&(0,s.jsx)("option",{value:"",disabled:!0,children:l}),n.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:(0,s.jsx)(r.Z,{className:"h-5 w-5 text-text-muted"})})]}),u&&(0,s.jsx)("p",{className:"mt-1 text-sm text-accent-red",children:u}),b&&(0,s.jsx)("p",{className:"mt-1 text-sm text-text-muted",children:b})]})});n.displayName="Select",t.Z=n},4351:function(e,t,a){"use strict";var s=a(7437),l=a(2265),c=a(7062);let r=(0,l.forwardRef)((e,t)=>{let{label:a,placeholder:l,value:r,onChange:n,onBlur:i,name:d,id:x,error:o,disabled:m=!1,required:u=!1,rows:h=4,maxLength:p,className:f="",helpText:j,...b}=e,g=x||d||"textarea-".concat(Math.random().toString(36).substr(2,9));return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsxs)("label",{htmlFor:g,className:"block text-sm font-medium text-text mb-2",children:[a,u&&(0,s.jsx)("span",{className:"text-accent-red ml-1",children:"*"})]}),(0,s.jsx)("textarea",{ref:t,id:g,name:d,placeholder:l,value:r,onChange:n,onBlur:i,disabled:m,required:u,rows:h,maxLength:p,className:(0,c.cn)("w-full px-4 py-3 bg-surface-200 border rounded-xl text-text resize-none","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-primary-500/20",o?"border-accent-red focus:border-accent-red":"border-surface-300 focus:border-primary-500",m&&"opacity-50 cursor-not-allowed","transition-all duration-200",f),...b}),p&&(0,s.jsxs)("p",{className:"mt-1 text-sm text-text-muted text-right",children:[(null==r?void 0:r.length)||0,"/",p]}),o&&(0,s.jsx)("p",{className:"mt-1 text-sm text-accent-red",children:o})]})});r.displayName="Textarea",t.Z=r},8420:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},875:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1723:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5252:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9345:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},525:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1239:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])}},function(e){e.O(0,[790,971,117,744],function(){return e(e.s=568)}),_N_E=e.O()}]);
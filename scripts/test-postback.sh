#!/bin/bash

echo "=============================================="
echo "Testing Hooplaseft Auto-Postback System"
echo "=============================================="
echo ""
echo "1. Start the development server:"
echo "   cd c:/Users/USER/Desktop/BarracudaMareting"
echo "   npm run dev"
echo ""
echo "2. Then open this URL in your browser:"
echo "   http://localhost:3000/landing?sub1=a8fee2d5126550fe3d091236e4d1c04b"
echo ""
echo "=============================================="
echo "Expected Console Output:"
echo "=============================================="
echo ""
echo "Auto-sending postbacks for sub1: a8fee2d5126550fe3d091236e4d1c04b"
echo "ðŸŽ¯ Using dynamic click_id: a8fee2d5126550fe3d091236e4d1c04b (sub1: a8fee2d5126550fe3d091236e4d1c04b, url_id: 2)"
echo "ðŸŽ¯ Using hash: a8fee2d5126550fe3d091236e4d1c04b"
echo "ðŸŽ¯ Sending Hooplaseft Registration Postback (Goal #5)"
echo "ðŸŽ¯ Sending Hooplaseft Goal #5 postback:"
echo "   URL: https://hooplaseft.com/api/v3/goal/5?hash=a8fee2d5126550fe3d091236e4d1c04b&click_id=a8fee2d5126550fe3d091236e4d1c04b&affiliate_id=2&sub1=a8fee2d5126550fe3d091236e4d1c04b&sub2=&sub3=&goal_type=registration&name=Auto%20Registered%20User&email=user_a8fee2d5@example.com&company=Auto%20Registration"
echo "   Click ID: a8fee2d5126550fe3d091236e4d1c04b"
echo "   Affiliate ID: 2"
echo "   Hash: a8fee2d5126550fe3d091236e4d1c04b"
echo "âœ… Hooplaseft Goal #5 response (200): {\"status\":\"success\",...}"
echo "   Registration postback success: true"
echo "âœ… Registration conversion saved"
echo "âœ… Auto-completed FTD for contact (ftd=true, ftd_amount=100)"
echo "ðŸŽ¯ Sending Hooplaseft Deposit Postback (Goal #6)"
echo "ðŸŽ¯ Sending Hooplaseft Goal #6 postback:"
echo "   URL: https://hooplaseft.com/api/v3/goal/6?hash=a8fee2d5126550fe3d091236e4d1c04b&click_id=a8fee2d5126550fe3d091236e4d1c04b&affiliate_id=2&sub1=a8fee2d5126550fe3d091236e4d1c04b&sub2=&sub3=&goal_type=deposit&deposit_amount=100&sale_amount=100"
echo "   Click ID: a8fee2d5126550fe3d091236e4d1c04b"
echo "   Affiliate ID: 2"
echo "   Hash: a8fee2d5126550fe3d091236e4d1c04b"
echo "âœ… Hooplaseft Goal #6 response (200): {\"status\":\"success\",...}"
echo "   Deposit postback success: true"
echo "âœ… Deposit conversion saved"
echo "âœ… Registration postback saved"
echo "âœ… Deposit postback saved"
echo ""
echo "=============================================="
echo "Browser Expected Display:"
echo "=============================================="
echo "Loading State:"
echo "  âœ“ Captured tracking: a8fee2d5..."
echo "  â†’ Sending Registration Postback (Goal #5) [spinning]"
echo "  â†’ Sending Deposit Postback (Goal #6)"
echo ""
echo "Success State:"
echo "  âœ“ Registration (Goal #5): âœ“ Success"
echo "  âœ“ Deposit (Goal #6): âœ“ Success"
echo ""
